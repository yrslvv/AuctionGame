{"map":"{\"version\":3,\"sources\":[\"C:/Users/yarik/Desktop/Project/frontend/src/components/UserRegistration.js\",\"C:/Users/yarik/Desktop/Project/frontend/src/components/GifSearch.js\",\"C:/Users/yarik/Desktop/Project/frontend/src/components/Auction.js\",\"C:/Users/yarik/Desktop/Project/frontend/src/App.js\",\"C:/Users/yarik/Desktop/Project/frontend/src/reportWebVitals.js\",\"C:/Users/yarik/Desktop/Project/frontend/src/index.js\"],\"names\":[\"UserRegistration\",\"_ref\",\"setUsername\",\"name\",\"setName\",\"useState\",\"duration\",\"setDuration\",\"navigate\",\"useNavigate\",\"React\",\"createElement\",\"className\",\"onSubmit\",\"async\",\"e\",\"preventDefault\",\"axios\",\"get\",\"data\",\"post\",\"error\",\"console\",\"type\",\"value\",\"onChange\",\"target\",\"placeholder\",\"required\",\"onClick\",\"delete\",\"alert\",\"GifSearch\",\"username\",\"onGifSelect\",\"searchTerm\",\"setSearchTerm\",\"gifs\",\"setGifs\",\"useEffect\",\"delayDebounceFn\",\"setTimeout\",\"trim\",\"searchUrl\",\"log\",\"response\",\"results\",\"handleSearch\",\"clearTimeout\",\"map\",\"gif\",\"key\",\"id\",\"src\",\"media_formats\",\"nanogif\",\"url\",\"alt\",\"content_description\",\"socket\",\"io\",\"Auction\",\"auction\",\"setAuction\",\"bidAmount\",\"setBidAmount\",\"winner\",\"setWinner\",\"timeLeft\",\"setTimeLeft\",\"chatMessages\",\"setChatMessages\",\"newMessage\",\"setNewMessage\",\"bidError\",\"setBidError\",\"chatEndRef\",\"useRef\",\"endTime\",\"Date\",\"fetchData\",\"on\",\"remainingTime\",\"highestBid\",\"message\",\"prevMessages\",\"slice\",\"scrollToBottom\",\"messages\",\"emit\",\"off\",\"current\",\"scrollIntoView\",\"behavior\",\"amount\",\"minutes\",\"Math\",\"floor\",\"seconds\",\"sortedBids\",\"bids\",\"sort\",\"a\",\"b\",\"picture\",\"bid\",\"index\",\"handleBid\",\"auctionId\",\"_id\",\"msg\",\"startsWith\",\"ref\",\"onKeyDown\",\"gifUrl\",\"App\",\"Router\",\"Routes\",\"Route\",\"exact\",\"path\",\"element\",\"reportWebVitals\",\"onPerfEntry\",\"Function\",\"__webpack_require__\",\"then\",\"bind\",\"getCLS\",\"getFID\",\"getFCP\",\"getLCP\",\"getTTFB\",\"ReactDOM\",\"createRoot\",\"document\",\"getElementById\",\"render\",\"StrictMode\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React, { useState } from 'react';\\r\\nimport { useNavigate } from 'react-router-dom';\\r\\nimport axios from 'axios';\\r\\nimport './UserRegistration.css';\\r\\n\\r\\nconst UserRegistration = ({ setUsername }) => {\\r\\n  const [name, setName] = useState('');\\r\\n  const [duration, setDuration] = useState(2); // Default duration to 2 minutes\\r\\n  const navigate = useNavigate();\\r\\n\\r\\n  const handleSubmit = async (e) => {\\r\\n    e.preventDefault();\\r\\n    setUsername(name);\\r\\n    try {\\r\\n      const response = await axios.get('http://localhost:5000/api/auction');\\r\\n      if (response.data) {\\r\\n        navigate('/auction');\\r\\n      } else {\\r\\n        await axios.post('http://localhost:5000/api/auction', { duration });\\r\\n        navigate('/auction');\\r\\n      }\\r\\n    } catch (error) {\\r\\n      console.error(error);\\r\\n    }\\r\\n  };\\r\\n\\r\\n  const handleDeleteAuction = async () => {\\r\\n    try {\\r\\n      await axios.delete('http://localhost:5000/api/auction');\\r\\n      alert('Current auction deleted');\\r\\n    } catch (error) {\\r\\n      console.error(error);\\r\\n    }\\r\\n  };\\r\\n\\r\\n  return (\\r\\n    <div className=\\\"registration-container\\\">\\r\\n      <h1>Enter the Auction</h1>\\r\\n      <form onSubmit={handleSubmit}>\\r\\n        <input\\r\\n          type=\\\"text\\\"\\r\\n          value={name}\\r\\n          onChange={(e) => setName(e.target.value)}\\r\\n          placeholder=\\\"Enter your username\\\"\\r\\n          required\\r\\n        />\\r\\n        <input\\r\\n          type=\\\"number\\\"\\r\\n          value={duration}\\r\\n          onChange={(e) => setDuration(e.target.value)}\\r\\n          placeholder=\\\"Duration (minutes)\\\"\\r\\n          required\\r\\n        />\\r\\n        <button type=\\\"submit\\\">Join Auction</button>\\r\\n      </form>\\r\\n      <button onClick={handleDeleteAuction} className=\\\"delete-button\\\">Delete Current Auction</button>\\r\\n    </div>\\r\\n  );\\r\\n};\\r\\n\\r\\nexport default UserRegistration;\\r\\n\",\"import React, { useState, useEffect } from 'react';\\r\\nimport axios from 'axios';\\r\\nimport './GifSearch.css';\\r\\n\\r\\nconst GifSearch = ({ username, onGifSelect }) => {\\r\\n  const [searchTerm, setSearchTerm] = useState('');\\r\\n  const [gifs, setGifs] = useState([]);\\r\\n\\r\\n  useEffect(() => {\\r\\n    const handleSearch = async () => {\\r\\n      if (searchTerm.trim() === '') {\\r\\n        setGifs([]);\\r\\n        return;\\r\\n      }\\r\\n      try {\\r\\n        const searchUrl = `https://tenor.googleapis.com/v2/search?q=${searchTerm}&key=AIzaSyCfPz-AXvOA8cnneQlgqNTJPgpyvSNF-1w&client_key=my_test_app&limit=8`;\\r\\n        console.log(\\\"Search URL:\\\", searchUrl); // Add this line\\r\\n        const response = await axios.get(searchUrl);\\r\\n        setGifs(response.data.results);\\r\\n      } catch (error) {\\r\\n        console.error('Error fetching GIFs:', error);\\r\\n      }\\r\\n    };\\r\\n\\r\\n    const delayDebounceFn = setTimeout(() => {\\r\\n      handleSearch();\\r\\n    }, 300);\\r\\n\\r\\n    return () => clearTimeout(delayDebounceFn);\\r\\n  }, [searchTerm]);\\r\\n\\r\\n  return (\\r\\n    <div className=\\\"gif-search-container\\\">\\r\\n      <input\\r\\n        type=\\\"text\\\"\\r\\n        value={searchTerm}\\r\\n        onChange={(e) => setSearchTerm(e.target.value)}\\r\\n        placeholder=\\\"Search GIFs\\\"\\r\\n      />\\r\\n      <div className=\\\"gif-results\\\">\\r\\n        {gifs.map((gif) => (\\r\\n          <img\\r\\n            key={gif.id}\\r\\n            src={gif.media_formats.nanogif.url}\\r\\n            alt={gif.content_description}\\r\\n            onClick={() => onGifSelect(gif.media_formats.gif.url, username)}\\r\\n            className=\\\"gif-item\\\"\\r\\n          />\\r\\n        ))}\\r\\n      </div>\\r\\n    </div>\\r\\n  );\\r\\n};\\r\\n\\r\\nexport default GifSearch;\\r\\n\",\"import React, { useState, useEffect, useRef } from 'react';\\r\\nimport axios from 'axios';\\r\\nimport io from 'socket.io-client';\\r\\nimport GifSearch from './GifSearch';\\r\\nimport './Auction.css';\\r\\n\\r\\nconst socket = io('http://localhost:5000');\\r\\n\\r\\nconst Auction = ({ username }) => {\\r\\n  const [auction, setAuction] = useState(null);\\r\\n  const [bidAmount, setBidAmount] = useState(0);\\r\\n  const [winner, setWinner] = useState(null);\\r\\n  const [timeLeft, setTimeLeft] = useState(0); // in milliseconds\\r\\n  const [chatMessages, setChatMessages] = useState([]);\\r\\n  const [newMessage, setNewMessage] = useState('');\\r\\n  const [bidError, setBidError] = useState('');\\r\\n  const chatEndRef = useRef(null); // Reference to the end of the chat\\r\\n\\r\\n  useEffect(() => {\\r\\n    const fetchData = async () => {\\r\\n      const response = await axios.get('http://localhost:5000/api/auction');\\r\\n      if (response.data) {\\r\\n        setAuction(response.data);\\r\\n        if (response.data.endTime) {\\r\\n          setTimeLeft(new Date(response.data.endTime) - new Date());\\r\\n        }\\r\\n      } else {\\r\\n        setAuction(null);\\r\\n      }\\r\\n    };\\r\\n\\r\\n    fetchData();\\r\\n\\r\\n    socket.on('newBid', (auction) => {\\r\\n      setAuction(auction);\\r\\n    });\\r\\n\\r\\n    socket.on('timerUpdate', (remainingTime) => {\\r\\n      setTimeLeft(remainingTime);\\r\\n    });\\r\\n\\r\\n    socket.on('auctionEnd', (highestBid) => {\\r\\n      setWinner(highestBid);\\r\\n    });\\r\\n\\r\\n    socket.on('newMessage', (message) => {\\r\\n      setChatMessages(prevMessages => [...prevMessages, message].slice(-15));\\r\\n      scrollToBottom();\\r\\n    });\\r\\n\\r\\n    socket.on('messages', (messages) => {\\r\\n      setChatMessages(messages);\\r\\n      scrollToBottom();\\r\\n    });\\r\\n\\r\\n    socket.on('bidError', (error) => {\\r\\n      setBidError(error);\\r\\n    });\\r\\n\\r\\n    socket.emit('getMessages');\\r\\n\\r\\n    return () => {\\r\\n      socket.off('newBid');\\r\\n      socket.off('timerUpdate');\\r\\n      socket.off('auctionEnd');\\r\\n      socket.off('newMessage');\\r\\n      socket.off('messages');\\r\\n      socket.off('bidError');\\r\\n    };\\r\\n  }, []);\\r\\n\\r\\n  const handleBid = () => {\\r\\n    setBidError('');\\r\\n    socket.emit('bid', { auctionId: auction._id, username, amount: bidAmount });\\r\\n  };\\r\\n\\r\\n  const handleSendMessage = () => {\\r\\n    if (newMessage.trim() !== '') {\\r\\n      socket.emit('sendMessage', { username, message: newMessage });\\r\\n      setNewMessage('');\\r\\n    }\\r\\n  };\\r\\n\\r\\n  const handleKeyDown = (e) => {\\r\\n    if (e.key === 'Enter') {\\r\\n      handleSendMessage();\\r\\n    }\\r\\n  };\\r\\n\\r\\n  const handleGifSelect = (gifUrl) => {\\r\\n    socket.emit('sendMessage', { username, message: gifUrl });\\r\\n  };\\r\\n\\r\\n  const scrollToBottom = () => {\\r\\n    if (chatEndRef.current) {\\r\\n      chatEndRef.current.scrollIntoView({ behavior: 'smooth' });\\r\\n    }\\r\\n  };\\r\\n\\r\\n  if (!auction) {\\r\\n    return <p>No active auction. Please create a new auction.</p>;\\r\\n  }\\r\\n\\r\\n  if (winner) {\\r\\n    return (\\r\\n      <div className=\\\"auction-container\\\">\\r\\n        <h1>Auction Ended</h1>\\r\\n        <p>Winner: {winner.username || \\\"No bids\\\"} with ${winner.amount !== -1 ? winner.amount : 0}</p>\\r\\n      </div>\\r\\n    );\\r\\n  }\\r\\n\\r\\n  const minutes = Math.floor(timeLeft / 60000);\\r\\n  const seconds = Math.floor((timeLeft % 60000) / 1000);\\r\\n\\r\\n  const sortedBids = [...auction.bids].sort((a, b) => b.amount - a.amount);\\r\\n\\r\\n  return (\\r\\n    <div className=\\\"auction-container\\\">\\r\\n      <div className=\\\"timer\\\">{minutes}:{('0' + seconds).slice(-2)}</div>\\r\\n      <div className=\\\"auction-content\\\">\\r\\n        <img src={auction.picture} alt=\\\"Auction Item\\\" className=\\\"auction-image\\\" />\\r\\n        <div className=\\\"bidding-section\\\">\\r\\n          <div className=\\\"current-bids\\\">\\r\\n            <h3>Current Bids</h3>\\r\\n            <ul>\\r\\n              {sortedBids.map((bid, index) => (\\r\\n                <li key={index}>{bid.username}: ${bid.amount}</li>\\r\\n              ))}\\r\\n            </ul>\\r\\n            {bidError && <p className=\\\"bid-error\\\">{bidError}</p>}\\r\\n            <input\\r\\n              type=\\\"number\\\"\\r\\n              value={bidAmount}\\r\\n              onChange={(e) => setBidAmount(e.target.value)}\\r\\n              placeholder=\\\"Enter your bid\\\"\\r\\n              className=\\\"bid-input\\\"\\r\\n            />\\r\\n            <button onClick={handleBid} className=\\\"bid-button\\\">Place Bid</button>\\r\\n          </div>\\r\\n          <div className=\\\"chat-container\\\">\\r\\n            <h3>Chat</h3>\\r\\n            <div className=\\\"chat-messages\\\">\\r\\n              {chatMessages.map((msg, index) => (\\r\\n                <div key={index}>\\r\\n                  {msg.message.startsWith('http') ? (\\r\\n                    <img src={msg.message} alt=\\\"GIF\\\" className=\\\"chat-gif\\\" />\\r\\n                  ) : (\\r\\n                    <div>\\r\\n                      <strong>{msg.username}: </strong><span>{msg.message}</span>\\r\\n                    </div>\\r\\n                  )}\\r\\n                </div>\\r\\n              ))}\\r\\n              <div ref={chatEndRef} />\\r\\n            </div>\\r\\n            <input\\r\\n              type=\\\"text\\\"\\r\\n              value={newMessage}\\r\\n              onChange={(e) => setNewMessage(e.target.value)}\\r\\n              onKeyDown={handleKeyDown}\\r\\n              placeholder=\\\"Type a message\\\"\\r\\n              className=\\\"chat-input\\\"\\r\\n            />\\r\\n            <small className=\\\"enter-to-send\\\">Press Enter to send message</small>\\r\\n            <GifSearch onGifSelect={handleGifSelect} />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  );\\r\\n};\\r\\n\\r\\nexport default Auction;\\r\\n\",\"import React, { useState } from 'react';\\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom';\\nimport UserRegistration from './components/UserRegistration';\\nimport Auction from './components/Auction';\\n\\nconst App = () => {\\n  const [username, setUsername] = useState('');\\n\\n  return (\\n    <Router>\\n      <Routes>\\n        <Route exact path=\\\"/\\\" element={<UserRegistration setUsername={setUsername} />} />\\n        <Route path=\\\"/auction\\\" element={<Auction username={username} />} />\\n      </Routes>\\n    </Router>\\n  );\\n};\\n\\nexport default App;\\n\",\"const reportWebVitals = onPerfEntry => {\\n  if (onPerfEntry && onPerfEntry instanceof Function) {\\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\\n      getCLS(onPerfEntry);\\n      getFID(onPerfEntry);\\n      getFCP(onPerfEntry);\\n      getLCP(onPerfEntry);\\n      getTTFB(onPerfEntry);\\n    });\\n  }\\n};\\n\\nexport default reportWebVitals;\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom/client';\\nimport './index.css';\\nimport App from './App';\\nimport reportWebVitals from './reportWebVitals';\\n\\nconst root = ReactDOM.createRoot(document.getElementById('root'));\\nroot.render(\\n  <React.StrictMode>\\n    <App />\\n  </React.StrictMode>\\n);\\n\\nreportWebVitals();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(39)},32:function(e,t,a){},33:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){\"use strict\";a.r(t);var n=a(0),c=a.n(n),r=a(23),l=a.n(r),s=(a(32),a(18)),o=a(3),i=a(40);a(33);var u=e=>{let{setUsername:t}=e;const[a,r]=Object(n.useState)(\"\"),[l,s]=Object(n.useState)(2),u=Object(o.o)();return c.a.createElement(\"div\",{className:\"registration-container\"},c.a.createElement(\"h1\",null,\"Enter the Auction\"),c.a.createElement(\"form\",{onSubmit:async e=>{e.preventDefault(),t(a);try{(await i.a.get(\"http://localhost:5000/api/auction\")).data?u(\"/auction\"):(await i.a.post(\"http://localhost:5000/api/auction\",{duration:l}),u(\"/auction\"))}catch(n){console.error(n)}}},c.a.createElement(\"input\",{type:\"text\",value:a,onChange:e=>r(e.target.value),placeholder:\"Enter your username\",required:!0}),c.a.createElement(\"input\",{type:\"number\",value:l,onChange:e=>s(e.target.value),placeholder:\"Duration (minutes)\",required:!0}),c.a.createElement(\"button\",{type:\"submit\"},\"Join Auction\")),c.a.createElement(\"button\",{onClick:async()=>{try{await i.a.delete(\"http://localhost:5000/api/auction\"),alert(\"Current auction deleted\")}catch(e){console.error(e)}},className:\"delete-button\"},\"Delete Current Auction\"))},m=a(25);a(37);var d=e=>{let{username:t,onGifSelect:a}=e;const[r,l]=Object(n.useState)(\"\"),[s,o]=Object(n.useState)([]);return Object(n.useEffect)(()=>{const e=setTimeout(()=>{(async()=>{if(\"\"!==r.trim())try{const t=`https://tenor.googleapis.com/v2/search?q=${r}&key=AIzaSyCfPz-AXvOA8cnneQlgqNTJPgpyvSNF-1w&client_key=my_test_app&limit=8`;console.log(\"Search URL:\",t);const a=await i.a.get(t);o(a.data.results)}catch(e){console.error(\"Error fetching GIFs:\",e)}else o([])})()},300);return()=>clearTimeout(e)},[r]),c.a.createElement(\"div\",{className:\"gif-search-container\"},c.a.createElement(\"input\",{type:\"text\",value:r,onChange:e=>l(e.target.value),placeholder:\"Search GIFs\"}),c.a.createElement(\"div\",{className:\"gif-results\"},s.map(e=>c.a.createElement(\"img\",{key:e.id,src:e.media_formats.nanogif.url,alt:e.content_description,onClick:()=>a(e.media_formats.gif.url,t),className:\"gif-item\"}))))};a(38);const E=Object(m.a)(\"http://localhost:5000\");var p=e=>{let{username:t}=e;const[a,r]=Object(n.useState)(null),[l,s]=Object(n.useState)(0),[o,u]=Object(n.useState)(null),[m,p]=Object(n.useState)(0),[g,h]=Object(n.useState)([]),[f,b]=Object(n.useState)(\"\"),[v,y]=Object(n.useState)(\"\"),N=Object(n.useRef)(null);Object(n.useEffect)(()=>((async()=>{const e=await i.a.get(\"http://localhost:5000/api/auction\");e.data?(r(e.data),e.data.endTime&&p(new Date(e.data.endTime)-new Date)):r(null)})(),E.on(\"newBid\",e=>{r(e)}),E.on(\"timerUpdate\",e=>{p(e)}),E.on(\"auctionEnd\",e=>{u(e)}),E.on(\"newMessage\",e=>{h(t=>[...t,e].slice(-15)),w()}),E.on(\"messages\",e=>{h(e),w()}),E.on(\"bidError\",e=>{y(e)}),E.emit(\"getMessages\"),()=>{E.off(\"newBid\"),E.off(\"timerUpdate\"),E.off(\"auctionEnd\"),E.off(\"newMessage\"),E.off(\"messages\"),E.off(\"bidError\")}),[]);const w=()=>{N.current&&N.current.scrollIntoView({behavior:\"smooth\"})};if(!a)return c.a.createElement(\"p\",null,\"No active auction. Please create a new auction.\");if(o)return c.a.createElement(\"div\",{className:\"auction-container\"},c.a.createElement(\"h1\",null,\"Auction Ended\"),c.a.createElement(\"p\",null,\"Winner: \",o.username||\"No bids\",\" with $\",-1!==o.amount?o.amount:0));const S=Math.floor(m/6e4),O=Math.floor(m%6e4/1e3),j=[...a.bids].sort((e,t)=>t.amount-e.amount);return c.a.createElement(\"div\",{className:\"auction-container\"},c.a.createElement(\"div\",{className:\"timer\"},S,\":\",(\"0\"+O).slice(-2)),c.a.createElement(\"div\",{className:\"auction-content\"},c.a.createElement(\"img\",{src:a.picture,alt:\"Auction Item\",className:\"auction-image\"}),c.a.createElement(\"div\",{className:\"bidding-section\"},c.a.createElement(\"div\",{className:\"current-bids\"},c.a.createElement(\"h3\",null,\"Current Bids\"),c.a.createElement(\"ul\",null,j.map((e,t)=>c.a.createElement(\"li\",{key:t},e.username,\": $\",e.amount))),v&&c.a.createElement(\"p\",{className:\"bid-error\"},v),c.a.createElement(\"input\",{type:\"number\",value:l,onChange:e=>s(e.target.value),placeholder:\"Enter your bid\",className:\"bid-input\"}),c.a.createElement(\"button\",{onClick:()=>{y(\"\"),E.emit(\"bid\",{auctionId:a._id,username:t,amount:l})},className:\"bid-button\"},\"Place Bid\")),c.a.createElement(\"div\",{className:\"chat-container\"},c.a.createElement(\"h3\",null,\"Chat\"),c.a.createElement(\"div\",{className:\"chat-messages\"},g.map((e,t)=>c.a.createElement(\"div\",{key:t},e.message.startsWith(\"http\")?c.a.createElement(\"img\",{src:e.message,alt:\"GIF\",className:\"chat-gif\"}):c.a.createElement(\"div\",null,c.a.createElement(\"strong\",null,e.username,\": \"),c.a.createElement(\"span\",null,e.message)))),c.a.createElement(\"div\",{ref:N})),c.a.createElement(\"input\",{type:\"text\",value:f,onChange:e=>b(e.target.value),onKeyDown:e=>{\"Enter\"===e.key&&\"\"!==f.trim()&&(E.emit(\"sendMessage\",{username:t,message:f}),b(\"\"))},placeholder:\"Type a message\",className:\"chat-input\"}),c.a.createElement(\"small\",{className:\"enter-to-send\"},\"Press Enter to send message\"),c.a.createElement(d,{onGifSelect:e=>{E.emit(\"sendMessage\",{username:t,message:e})}})))))};var g=()=>{const[e,t]=Object(n.useState)(\"\");return c.a.createElement(s.a,null,c.a.createElement(o.c,null,c.a.createElement(o.a,{exact:!0,path:\"/\",element:c.a.createElement(u,{setUsername:t})}),c.a.createElement(o.a,{path:\"/auction\",element:c.a.createElement(p,{username:e})})))};var h=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,41)).then(t=>{let{getCLS:a,getFID:n,getFCP:c,getLCP:r,getTTFB:l}=t;a(e),n(e),c(e),r(e),l(e)})};l.a.createRoot(document.getElementById(\"root\")).render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null))),h()}},[[26,1,2]]]);","extractedComments":[]}